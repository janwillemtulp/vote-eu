var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function i(){return Object.create(null)}function o(e){e.forEach(r)}function a(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function u(e,t,n){const r=t.subscribe(n);e.$$.on_destroy.push(r.unsubscribe?()=>r.unsubscribe():r)}const l=new Set;let c,h=!1;function f(){l.forEach(e=>{e[0](window.performance.now())||(l.delete(e),e[1]())}),(h=l.size>0)&&requestAnimationFrame(f)}function d(e,t){e.appendChild(t)}function g(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode.removeChild(e)}function m(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function v(e){return document.createElement(e)}function y(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function w(e){return document.createTextNode(e)}function $(){return w(" ")}function b(){return w("")}function _(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function x(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function M(e,t){t=""+t,e.data!==t&&(e.data=t)}function P(e,t,n){e.style.setProperty(t,n)}let C,N=0,k={};function T(e,t,n,r,i,o,a,s=0){const u=16.666/r;let l="{\n";for(let e=0;e<=1;e+=u){const r=t+(n-t)*o(e);l+=100*e+`%{${a(r,1-r)}}\n`}const h=l+`100% {${a(n,1-n)}}\n}`,f=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(h)}_${s}`;if(!k[f]){if(!c){const e=v("style");document.head.appendChild(e),c=e.sheet}k[f]=!0,c.insertRule(`@keyframes ${f} ${h}`,c.cssRules.length)}const d=e.style.animation||"";return e.style.animation=`${d?`${d}, `:""}${f} ${r}ms linear ${i}ms 1 both`,N+=1,f}function U(e,t){e.style.animation=(e.style.animation||"").split(", ").filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")).join(", "),t&&!--N&&requestAnimationFrame(()=>{if(N)return;let e=c.cssRules.length;for(;e--;)c.deleteRule(e);k={}})}function S(e){C=e}function I(e){(function(){if(!C)throw new Error("Function called outside component initialization");return C})().$$.after_render.push(e)}const A=[],q=Promise.resolve();let D=!1;const H=[],W=[],E=[];function L(e){H.push(e)}function j(e){W.push(e)}function F(){const e=new Set;do{for(;A.length;){const e=A.shift();S(e),O(e.$$)}for(;H.length;)H.shift()();for(;W.length;){const t=W.pop();e.has(t)||(t(),e.add(t))}}while(A.length);for(;E.length;)E.pop()();D=!1}function O(e){e.fragment&&(e.update(e.dirty),o(e.before_render),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_render.forEach(j))}let Y,z;function V(e,t,n){e.dispatchEvent(function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(`${t?"intro":"outro"}${n}`))}function R(){z={remaining:0,callbacks:[]}}function Q(){z.remaining||o(z.callbacks)}function Z(e){z.callbacks.push(e)}function B(n,r,i,a){let s=r(n,i),u=a?0:1,c=null,d=null,g=null;function p(){g&&U(n,g)}function m(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function v(r){const{delay:i=0,duration:a=300,easing:v=t,tick:y=e,css:w}=s,$={start:window.performance.now()+i,b:r};r||($.group=z,z.remaining+=1),c?d=$:(w&&(p(),g=T(n,u,r,a,i,v,w)),r&&y(0,1),c=m($,a),j(()=>V(n,r,"start")),function(e){let t;h||(h=!0,requestAnimationFrame(f)),new Promise(n=>{l.add(t=[e,n])})}(e=>{if(d&&e>d.start&&(c=m(d,a),d=null,V(n,c.b,"start"),w&&(p(),g=T(n,u,c.b,c.duration,0,v,s.css))),c)if(e>=c.end)y(u=c.b,1-u),V(n,c.b,"end"),d||(c.b?p():--c.group.remaining||o(c.group.callbacks)),c=null;else if(e>=c.start){const t=e-c.start;u=c.a+c.d*v(t/c.duration),y(u,1-u)}return!(!c&&!d)}))}return{run(e){"function"==typeof s?(Y||(Y=Promise.resolve()).then(()=>{Y=null}),Y).then(()=>{s=s(),v(e)}):v(e)},end(){p(),c=d=null}}}function X(e,t){const r=t.token={};function i(e,i,o,a){if(t.token!==r)return;t.resolved=o&&{[o]:a};const s=n(n({},t.ctx),t.resolved),u=e&&(t.current=e)(s);t.block&&(t.blocks?t.blocks.forEach((e,n)=>{n!==i&&e&&(R(),Z(()=>{e.d(1),t.blocks[n]=null}),e.o(1),Q())}):t.block.d(1),u.c(),u.i&&u.i(1),u.m(t.mount(),t.anchor),F()),t.block=u,t.blocks&&(t.blocks[i]=u)}if((o=e)&&"function"==typeof o.then){if(e.then(e=>{i(t.then,1,t.value,e)},e=>{i(t.catch,2,t.error,e)}),t.current!==t.pending)return i(t.pending,0),!0}else{if(t.current!==t.then)return i(t.then,1,t.value,e),!0;t.resolved={[t.value]:e}}var o}function J(e,t,n){const{fragment:i,on_mount:s,on_destroy:u,after_render:l}=e.$$;i.m(t,n),j(()=>{const t=s.map(r).filter(a);u?u.push(...t):o(t),e.$$.on_mount=[]}),l.forEach(j)}function G(e,t){e.$$.dirty||(A.push(e),D||(D=!0,q.then(F)),e.$$.dirty={}),e.$$.dirty[t]=!0}function K(t,n,r,a,s,u){const l=C;S(t);const c=n.props||{},h=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:s,bound:i(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(l?l.$$.context:[]),callbacks:i(),dirty:null};let f=!1;var d;h.ctx=r?r(t,c,(e,n)=>{h.ctx&&s(h.ctx[e],h.ctx[e]=n)&&(h.bound[e]&&h.bound[e](n),f&&G(t,e))}):c,h.update(),f=!0,o(h.before_render),h.fragment=a(h.ctx),n.target&&(n.hydrate?h.fragment.l((d=n.target,Array.from(d.childNodes))):h.fragment.c(),n.intro&&t.$$.fragment.i&&t.$$.fragment.i(),J(t,n.target,n.anchor),F()),S(l)}class ee{$destroy(){var t,n;n=!0,(t=this).$$&&(o(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={}),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}var te={},ne={},re=34,ie=10,oe=13;function ae(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function se(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}function ue(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function le(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+ue(-t,6):t>9999?"+"+ue(t,6):ue(t,4))+"-"+ue(e.getUTCMonth()+1,2)+"-"+ue(e.getUTCDate(),2)+(o?"T"+ue(n,2)+":"+ue(r,2)+":"+ue(i,2)+"."+ue(o,3)+"Z":i?"T"+ue(n,2)+":"+ue(r,2)+":"+ue(i,2)+"Z":r||n?"T"+ue(n,2)+":"+ue(r,2)+"Z":"")}function ce(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,a=0,s=0,u=o<=0,l=!1;function c(){if(u)return ne;if(l)return l=!1,te;var t,r,i=a;if(e.charCodeAt(i)===re){for(;a++<o&&e.charCodeAt(a)!==re||e.charCodeAt(++a)===re;);return(t=a)>=o?u=!0:(r=e.charCodeAt(a++))===ie?l=!0:r===oe&&(l=!0,e.charCodeAt(a)===ie&&++a),e.slice(i+1,t-1).replace(/""/g,'"')}for(;a<o;){if((r=e.charCodeAt(t=a++))===ie)l=!0;else if(r===oe)l=!0,e.charCodeAt(a)===ie&&++a;else if(r!==n)continue;return e.slice(i,t)}return u=!0,e.slice(i,o)}for(e.charCodeAt(o-1)===ie&&--o,e.charCodeAt(o-1)===oe&&--o;(r=c())!==ne;){for(var h=[];r!==te&&r!==ne;)h.push(r),r=c();t&&null==(h=t(h,s++))||i.push(h)}return i}function i(t,n){return t.map(function(t){return n.map(function(e){return a(t[e])}).join(e)})}function o(t){return t.map(a).join(e)}function a(e){return null==e?"":e instanceof Date?le(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,o=r(e,function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=ae(e);return function(r,i){return t(n(r),i,e)}}(e,t):ae(e)});return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=se(t)),[n.map(a).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=se(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")}}}var he=ce(",").parse;ce("\t");function fe(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}var de=function(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),function(e,t){return fetch(e,t).then(fe)}(t,n).then(function(t){return e(t,r)})}}(he);function ge(e,t){return{subscribe:pe(e,t).subscribe}}function pe(t,n=e){let r;const i=[];function o(e){if(s(t,e)){if(t=e,!r)return;i.forEach(e=>e[1]()),i.forEach(e=>e[0](t))}}return{set:o,update:function(e){o(e(t))},subscribe:function(a,s=e){const u=[a,s];return i.push(u),1===i.length&&(r=n(o)||e),a(t),()=>{const e=i.indexOf(u);-1!==e&&i.splice(e,1),0===i.length&&r()}}}}function me(e,t,n){const r=!Array.isArray(e);r&&(e=[e]);const i=t.length<2;let a={};return ge(n,n=>{let s=!1;const u=[];let l=0;const c=()=>{if(l)return;const e=t(r?u[0]:u,n);i&&a!==(a=e)&&n(e)},h=e.map((e,t)=>e.subscribe(e=>{u[t]=e,l&=~(1<<t),s&&c()},()=>{l|=1<<t}));return s=!0,c(),function(){o(h)}})}function ve(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var ye,we,$e=(1===(ye=ve).length&&(we=ye,ye=function(e,t){return ve(we(e),t)}),{left:function(e,t,n,r){for(null==n&&(n=0),null==r&&(r=e.length);n<r;){var i=n+r>>>1;ye(e[i],t)<0?n=i+1:r=i}return n},right:function(e,t,n,r){for(null==n&&(n=0),null==r&&(r=e.length);n<r;){var i=n+r>>>1;ye(e[i],t)>0?r=i:n=i+1}return n}}).right;var be=Math.sqrt(50),_e=Math.sqrt(10),xe=Math.sqrt(2);function Me(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=be?10:o>=_e?5:o>=xe?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=be?10:o>=_e?5:o>=xe?2:1)}const Pe=pe([]),Ce=ge([{code:"AT",name:"Austria",seats:18},{code:"BE",name:"Belgium",seats:21},{code:"BG",name:"Bulgaria",seats:17},{code:"HR",name:"Croatia",seats:11},{code:"CY",name:"Cyprus",seats:6},{code:"CZ",name:"Czech Republic",seats:21},{code:"DK",name:"Denmark",seats:13},{code:"EE",name:"Estonia",seats:6},{code:"FI",name:"Finland",seats:13},{code:"FR",name:"France",seats:74},{code:"DE",name:"Germany",seats:96},{code:"EL",name:"Greece",seats:21},{code:"HU",name:"Hungary",seats:21},{code:"IE",name:"Ireland",seats:11},{code:"IT",name:"Italy",seats:73},{code:"LV",name:"Latvia",seats:8},{code:"LT",name:"Lithuania",seats:11},{code:"LU",name:"Luxembourg",seats:6},{code:"MT",name:"Malta",seats:6},{code:"NL",name:"The Netherlands",seats:26},{code:"PL",name:"Poland",seats:51},{code:"PT",name:"Portugal",seats:21},{code:"RO",name:"Romania",seats:32},{code:"SK",name:"Slovakia",seats:13},{code:"SI",name:"Slovenia",seats:8},{code:"SP",name:"Spain",seats:54},{code:"SE",name:"Sweden",seats:20},{code:"UK",name:"United Kingdom",seats:73}]),Ne=pe({code:"AT",name:"Austria",seats:18}),ke=me([Pe,Ne],([e,t])=>e.filter(e=>e.country_code===t.code)),Te=new Map;Te.set(100,"hsl(200, 50%, 50%)"),Te.set(50,"#999"),Te.set(0,"hsl(0, 50%, 50%)"),Te.set(null,"hsl(310, 50%, 70%)");const Ue=new Map;Ue.set(100,"hsl(204, 35%, 78%)"),Ue.set(50,"hsl(0, 0%, 80%)"),Ue.set(0,"hsl(3, 35%, 75%)"),Ue.set(null,"hsl(307, 30%, 83%)");const Se=new Map;Se.set(100,"hsl(200, 86%, 21%)"),Se.set(50,"hsl(0, 0%, 23%)"),Se.set(0,"hsl(0, 81%, 19%)"),Se.set(null,"hsl(311, 62%, 20%)");const Ie=new Map;Ie.set(100,"Agree"),Ie.set(50,"Neutral"),Ie.set(0,"Disagree"),Ie.set(null,"No opinion");const Ae=me(ke,e=>e.reduce((e,t)=>{const n=e.find(e=>e.question.id===t.question_id&&e.answer.simplifiedValue===t.simplifiedAnswer);return n?n.parties.push({id:t.party_id,image:t.party_image,name_full:t.party_name_full,name_short:t.party_name_short,motivation:{source:t.motivation_src,link:t.motivation_src_link,text:t.motivation}}):e.push({question:{id:t.question_id,shared_id:t.question_shared_id,text:t.question},answer:{value:t.answer,simplifiedValue:t.simplifiedAnswer,color:Te.get(t.simplifiedAnswer),colorLight:Ue.get(t.simplifiedAnswer),colorDark:Se.get(t.simplifiedAnswer),label:Ie.get(t.simplifiedAnswer)},country:{code:t.country_code,name:t.country_name},parties:[{id:t.party_id,image:t.party_image,name_full:t.party_name_full,name_short:t.party_name_short,motivation:{source:t.motivation_src,link:t.motivation_src_link,text:t.motivation}}]}),e.sort((e,t)=>e.question.id-t.question.id)},[])),qe=pe([]);function De(e,t){const n=e.filter(e=>0!==e.question[t]&&null!==e.answer.value);return n.reduce((e,n)=>e+2*Math.max(0,n.question[t]*(n.answer.value-50)),0)/n.length}const He=me(Ae,e=>e.reduce((t,n)=>(n.parties.forEach(n=>{if(!t.find(e=>e.id===n.id)){const r=e.filter(e=>e.parties.map(e=>e.id).includes(n.id)),i=r.filter(e=>0!==e.question.xy_lr),o=r.filter(e=>0!==e.question.xy_lc);t.push({...n,spectrum:{leftRight:i.reduce((e,t)=>e+t.question.xy_lr*(t.answer.value-50)+50,0)/i.length,liberalConservative:100-o.reduce((e,t)=>e+t.question.xy_lc*(t.answer.value-50)+50,0)/o.length,environment:De(r,"environmental_protection"),eu:De(r,"european_integration"),society:De(r,"liberal_society"),law:De(r,"law_and_order"),economy:De(r,"economic_liberalisation"),finance:De(r,"restrictive_financial_policy"),immigration:De(r,"restrictive_immigration_policy")},opinionCounts:{noOpinion:r.filter(e=>null===e.answer.value).length,shared:r.filter(e=>null!==e.answer.value&&e.parties.length>1).length,unique:r.filter(e=>null!==e.answer.value&&1===e.parties.length).length}})}}),t),[])),We=me(ke,e=>e.reduce((e,t)=>(e.map(e=>e.id).includes(t.question_id)||e.push({id:t.question_id,shared_id:t.question_shared_id,text:t.question}),e),[])),Ee=me([He,qe],([e,t])=>e.filter(e=>t.includes(e.id)).sort((e,t)=>e.name_short<t.name_short?-1:e.name_short>t.name_short?1:0),[]),Le=me([Ae,qe],([e,t])=>e.filter(e=>t.every(t=>e.parties.map(e=>e.id).includes(t))).length,0),je=me([We,Le],([e,t])=>e.length-t,0),Fe=e=>""===e?null:+e;async function Oe(e){de(`./data/${e}.csv`,e=>({...e,answer:Fe(e.answer),simplifiedAnswer:null===Fe(e.answer)?null:Fe(e.answer)<50?0:Fe(e.answer)>50?100:50,party_id:Fe(e.party_id),question_id:Fe(e.question_id),question_shared_id:Fe(e.question_shared_id),country_code:["VL","WA"].includes(e.country_code)?"BE":e.country_code,country_name:["VL","WA"].includes(e.country_code)?"Belgium":e.country_name})).then(e=>{Pe.set(e),console.log(e)})}function Ye(e,t,n){const r=Object.create(e);return r.country=t[n],r}function ze(e){var t,n,r,i,o,a=e.country.name;return{c(){t=v("option"),n=w(a),r=$(),t.__value=i=e.country.code,t.value=t.__value,t.selected=o=e.country.code===e.$selectedCountry.code?"selected":""},m(e,i){g(e,t,i),d(t,n),d(t,r)},p(e,r){e.$allCountries&&a!==(a=r.country.name)&&M(n,a),e.$allCountries&&i!==(i=r.country.code)&&(t.__value=i),t.value=t.__value,(e.$allCountries||e.$selectedCountry)&&o!==(o=r.country.code===r.$selectedCountry.code?"selected":"")&&(t.selected=o)},d(e){e&&p(t)}}}function Ve(t){for(var n,r,i=t.$allCountries,o=[],a=0;a<i.length;a+=1)o[a]=ze(Ye(t,i,a));return{c(){n=v("select");for(var e=0;e<o.length;e+=1)o[e].c();n.className="svelte-xiqido",r=_(n,"change",t.change_handler)},m(e,t){g(e,n,t);for(var r=0;r<o.length;r+=1)o[r].m(n,null)},p(e,t){if(e.$allCountries||e.$selectedCountry){i=t.$allCountries;for(var r=0;r<i.length;r+=1){const a=Ye(t,i,r);o[r]?o[r].p(e,a):(o[r]=ze(a),o[r].c(),o[r].m(n,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}},i:e,o:e,d(e){e&&p(n),m(o,e),r()}}}function Re(e,t,n){let r,i,o;function a(e){r=i.find(t=>t.code===e),Ne.set(r),o=[],qe.set(o),Oe(e)}return u(e,Ne,e=>{n("$selectedCountry",r=e)}),u(e,Ce,e=>{n("$allCountries",i=e)}),u(e,qe,e=>{n("$selectedPartyIds",o=e)}),{setSelectedCountry:a,$selectedCountry:r,$allCountries:i,change_handler:function(){return a(this.value)}}}class Qe extends ee{constructor(e){super(),K(this,e,Re,Ve,s,[])}}function Ze(e){var t,n,r,i,o,a,s,u,l,c,h,f=new Qe({});return{c(){t=v("div"),n=v("div"),(r=v("div")).innerHTML='<img class="logo svelte-zu233k" src="img/logo.png" alt="2019 vote EU">\n\t\t\t      <h2>Vote matching, but the other way around</h2>',i=$(),(o=v("p")).textContent="For any of the statements, click on Agree, Neutral, Disagree or No Opinion to explore similarities and differences between political parties and you!",a=$(),s=v("div"),f.$$.fragment.c(),u=$(),(l=v("button")).textContent="start",P(r,"display","grid"),P(r,"grid-template-rows","1fr 1fr"),P(r,"align-items","end"),o.className="svelte-zu233k",l.className="svelte-zu233k",P(s,"text-align","right"),n.className="content svelte-zu233k",t.className="modal svelte-zu233k",h=_(l,"click",e.click_handler)},m(h,p){g(h,t,p),d(t,n),d(n,r),d(n,i),d(n,o),d(n,a),d(n,s),J(f,s,null),d(s,u),d(s,l),L(()=>e.div3_binding(t,null)),c=!0},p(e,n){e.items&&(n.div3_binding(null,t),n.div3_binding(t,null))},i(e){c||(f.$$.fragment.i(e),c=!0)},o(e){f.$$.fragment.o(e),c=!1},d(n){n&&p(t),f.$destroy(),e.div3_binding(null,t),h()}}}function Be(e,t,n){let r;function i(){document.body.style.overflow="auto",r.style.display="none",n("modal",r)}return{modal:r,closeModal:i,click_handler:function(){return i()},div3_binding:function(e,t){n("modal",r=e)}}}class Xe extends ee{constructor(e){super(),K(this,e,Be,Ze,s,[])}}function Je(e){var t,n,r,i,o,a,s,u,l,c,h,f,m,y,b,x,C,N,k,T,U,S,I,A,q,D,H,W,E,L,j,F,O,Y,z,V,R,Q,Z,B,X,G,K=e.$selectedCountry.name,ee=e.$selectedCountry.seats,te=new Qe({}),ne=new Qe({});return{c(){t=v("header"),n=v("div"),r=v("div"),i=v("div"),o=v("img"),a=$(),s=v("div"),te.$$.fragment.c(),u=$(),l=v("div"),c=v("h1"),h=w(K),f=$(),m=v("p"),y=v("em"),b=w(ee),x=w(" seats"),C=w("\n          in EU parliament"),N=$(),k=v("div"),ne.$$.fragment.c(),T=$(),U=v("div"),S=v("button"),I=v("i"),A=w("\n        clear selection"),q=$(),(D=v("div")).textContent="Agree",H=$(),(W=v("div")).textContent="Neutral",E=$(),(L=v("div")).textContent="Disagree",j=$(),(F=v("div")).textContent="No Opinion",O=$(),(Y=v("div")).textContent="Agree",z=$(),(V=v("div")).textContent="Neut.",R=$(),(Q=v("div")).textContent="Dis-agr.",Z=$(),(B=v("div")).textContent="No Opin.",o.src="img/logo.png",o.alt="2019 vote EU",o.className="logo svelte-1e01gjg",s.className="left-country-select svelte-1e01gjg",i.className="logo-container svelte-1e01gjg",c.className="svelte-1e01gjg",m.className="byline svelte-1e01gjg",l.className="country svelte-1e01gjg",k.className="right-country-select svelte-1e01gjg",r.className="country-container svelte-1e01gjg",I.className="fas fa-times-circle",P(S,"visibility",e.$selectedPartyIds.length>0?"visible":"hidden"),S.className="clear-selection svelte-1e01gjg",D.className="opinion-label bigger svelte-1e01gjg",P(D,"color","hsl(200, 50%, 50%)"),W.className="opinion-label bigger svelte-1e01gjg",P(W,"color","#999"),L.className="opinion-label bigger svelte-1e01gjg",P(L,"color","hsl(0, 50%, 50%)"),F.className="opinion-label bigger svelte-1e01gjg",P(F,"color","hsl(310, 50%, 70%)"),Y.className="opinion-label smaller svelte-1e01gjg",P(Y,"color","hsl(200, 50%, 50%)"),V.className="opinion-label smaller svelte-1e01gjg",P(V,"color","#999"),Q.className="opinion-label smaller svelte-1e01gjg",P(Q,"color","hsl(0, 50%, 50%)"),B.className="opinion-label smaller svelte-1e01gjg",P(B,"color","hsl(310, 50%, 70%)"),U.className="container-headers svelte-1e01gjg",t.className="svelte-1e01gjg",G=_(S,"click",e.click_handler)},m(e,p){g(e,t,p),d(t,n),d(n,r),d(r,i),d(i,o),d(i,a),d(i,s),J(te,s,null),d(r,u),d(r,l),d(l,c),d(c,h),d(l,f),d(l,m),d(m,y),d(y,b),d(y,x),d(m,C),d(r,N),d(r,k),J(ne,k,null),d(n,T),d(n,U),d(U,S),d(S,I),d(S,A),d(U,q),d(U,D),d(U,H),d(U,W),d(U,E),d(U,L),d(U,j),d(U,F),d(U,O),d(U,Y),d(U,z),d(U,V),d(U,R),d(U,Q),d(U,Z),d(U,B),X=!0},p(e,t){X&&!e.$selectedCountry||K===(K=t.$selectedCountry.name)||M(h,K),X&&!e.$selectedCountry||ee===(ee=t.$selectedCountry.seats)||M(b,ee),X&&!e.$selectedPartyIds||P(S,"visibility",t.$selectedPartyIds.length>0?"visible":"hidden")},i(e){X||(te.$$.fragment.i(e),ne.$$.fragment.i(e),X=!0)},o(e){te.$$.fragment.o(e),ne.$$.fragment.o(e),X=!1},d(e){e&&p(t),te.$destroy(),ne.$destroy(),G()}}}function Ge(e,t,n){let r,i;return u(e,Ne,e=>{n("$selectedCountry",r=e)}),u(e,qe,e=>{n("$selectedPartyIds",i=e)}),{$selectedCountry:r,$selectedPartyIds:i,click_handler:function(){const e=i=[];return qe.set(i),e}}}class Ke extends ee{constructor(e){super(),K(this,e,Ge,Je,s,[])}}function et(e,{delay:t=0,duration:n=400}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:n,css:e=>`opacity: ${e*r}`}}function tt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}const nt=Symbol("implicit");function rt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function it(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ot(){}var at="\\s*([+-]?\\d+)\\s*",st="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ut="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lt=/^#([0-9a-f]{3})$/,ct=/^#([0-9a-f]{6})$/,ht=new RegExp("^rgb\\("+[at,at,at]+"\\)$"),ft=new RegExp("^rgb\\("+[ut,ut,ut]+"\\)$"),dt=new RegExp("^rgba\\("+[at,at,at,st]+"\\)$"),gt=new RegExp("^rgba\\("+[ut,ut,ut,st]+"\\)$"),pt=new RegExp("^hsl\\("+[st,ut,ut]+"\\)$"),mt=new RegExp("^hsla\\("+[st,ut,ut,st]+"\\)$"),vt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function yt(e){var t;return e=(e+"").trim().toLowerCase(),(t=lt.exec(e))?new xt((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=ct.exec(e))?wt(parseInt(t[1],16)):(t=ht.exec(e))?new xt(t[1],t[2],t[3],1):(t=ft.exec(e))?new xt(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=dt.exec(e))?$t(t[1],t[2],t[3],t[4]):(t=gt.exec(e))?$t(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=pt.exec(e))?Pt(t[1],t[2]/100,t[3]/100,1):(t=mt.exec(e))?Pt(t[1],t[2]/100,t[3]/100,t[4]):vt.hasOwnProperty(e)?wt(vt[e]):"transparent"===e?new xt(NaN,NaN,NaN,0):null}function wt(e){return new xt(e>>16&255,e>>8&255,255&e,1)}function $t(e,t,n,r){return r<=0&&(e=t=n=NaN),new xt(e,t,n,r)}function bt(e){return e instanceof ot||(e=yt(e)),e?new xt((e=e.rgb()).r,e.g,e.b,e.opacity):new xt}function _t(e,t,n,r){return 1===arguments.length?bt(e):new xt(e,t,n,null==r?1:r)}function xt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Mt(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Pt(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ct(e,t,n,r)}function Ct(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Nt(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}rt(ot,yt,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),rt(xt,_t,it(ot,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new xt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new xt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+Mt(this.r)+Mt(this.g)+Mt(this.b)},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),rt(Ct,function(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof Ct)return new Ct(e.h,e.s,e.l,e.opacity);if(e instanceof ot||(e=yt(e)),!e)return new Ct;if(e instanceof Ct)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Ct(a,s,u,e.opacity)}(e):new Ct(e,t,n,null==r?1:r)},it(ot,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Ct(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Ct(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new xt(Nt(e>=240?e-240:e+120,i,r),Nt(e,i,r),Nt(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var kt=Math.PI/180,Tt=180/Math.PI,Ut=.96422,St=1,It=.82521,At=4/29,qt=6/29,Dt=3*qt*qt,Ht=qt*qt*qt;function Wt(e){if(e instanceof Et)return new Et(e.l,e.a,e.b,e.opacity);if(e instanceof Yt){if(isNaN(e.h))return new Et(e.l,0,0,e.opacity);var t=e.h*kt;return new Et(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof xt||(e=bt(e));var n,r,i=Ot(e.r),o=Ot(e.g),a=Ot(e.b),s=Lt((.2225045*i+.7168786*o+.0606169*a)/St);return i===o&&o===a?n=r=s:(n=Lt((.4360747*i+.3850649*o+.1430804*a)/Ut),r=Lt((.0139322*i+.0971045*o+.7141733*a)/It)),new Et(116*s-16,500*(n-s),200*(s-r),e.opacity)}function Et(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function Lt(e){return e>Ht?Math.pow(e,1/3):e/Dt+At}function jt(e){return e>qt?e*e*e:Dt*(e-At)}function Ft(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Ot(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Yt(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}rt(Et,function(e,t,n,r){return 1===arguments.length?Wt(e):new Et(e,t,n,null==r?1:r)},it(ot,{brighter:function(e){return new Et(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Et(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new xt(Ft(3.1338561*(t=Ut*jt(t))-1.6168667*(e=St*jt(e))-.4906146*(n=It*jt(n))),Ft(-.9787684*t+1.9161415*e+.033454*n),Ft(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),rt(Yt,function(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof Yt)return new Yt(e.h,e.c,e.l,e.opacity);if(e instanceof Et||(e=Wt(e)),0===e.a&&0===e.b)return new Yt(NaN,0,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Tt;return new Yt(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new Yt(e,t,n,null==r?1:r)},it(ot,{brighter:function(e){return new Yt(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Yt(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return Wt(this).rgb()}}));var zt=-.14861,Vt=1.78277,Rt=-.29227,Qt=-.90649,Zt=1.97294,Bt=Zt*Qt,Xt=Zt*Vt,Jt=Vt*Rt-Qt*zt;function Gt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Kt(e){return function(){return e}}function en(e){return 1==(e=+e)?tn:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Kt(isNaN(t)?n:t)}}function tn(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Kt(isNaN(e)?t:e)}rt(Gt,function(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof Gt)return new Gt(e.h,e.s,e.l,e.opacity);e instanceof xt||(e=bt(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Jt*r+Bt*t-Xt*n)/(Jt+Bt-Xt),o=r-i,a=(Zt*(n-i)-Rt*o)/Qt,s=Math.sqrt(a*a+o*o)/(Zt*i*(1-i)),u=s?Math.atan2(a,o)*Tt-120:NaN;return new Gt(u<0?u+360:u,s,i,e.opacity)}(e):new Gt(e,t,n,null==r?1:r)},it(ot,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Gt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Gt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*kt,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new xt(255*(t+n*(zt*r+Vt*i)),255*(t+n*(Rt*r+Qt*i)),255*(t+n*(Zt*r)),this.opacity)}}));var nn=function e(t){var n=en(t);function r(e,t){var r=n((e=_t(e)).r,(t=_t(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=tn(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function rn(e,t){return t-=e=+e,function(n){return e+t*n}}var on=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,an=new RegExp(on.source,"g");function sn(e,t){var n,r=typeof t;return null==t||"boolean"===r?Kt(t):("number"===r?rn:"string"===r?(n=yt(t))?(t=n,nn):function(e,t){var n,r,i,o=on.lastIndex=an.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=on.exec(e))&&(r=an.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:rn(n,r)})),o=an.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}:t instanceof yt?nn:t instanceof Date?function(e,t){var n=new Date;return t-=e=+e,function(r){return n.setTime(e+t*r),n}}:Array.isArray(t)?function(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=sn(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?function(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=sn(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}:rn)(e,t)}function un(e,t){return t-=e=+e,function(n){return Math.round(e+t*n)}}Math.PI,Math.SQRT2;function ln(e){return+e}var cn=[0,1];function hn(e){return e}function fn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function dn(e){var t,n=e[0],r=e[e.length-1];return n>r&&(t=n,n=r,r=t),function(e){return Math.max(n,Math.min(r,e))}}function gn(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=fn(i,r),o=n(a,o)):(r=fn(r,i),o=n(o,a)),function(e){return o(r(e))}}function pn(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=fn(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=$e(e,t,1,r)-1;return o[n](i[n](t))}}function mn(e,t){return function(){var e,t,n,r,i,o,a=cn,s=cn,u=sn,l=hn;function c(){return r=Math.min(a.length,s.length)>2?pn:gn,i=o=null,h}function h(t){return isNaN(t=+t)?n:(i||(i=r(a.map(e),s,u)))(e(l(t)))}return h.invert=function(n){return l(t((o||(o=r(s,a.map(e),rn)))(n)))},h.domain=function(e){return arguments.length?(a=Array.from(e,ln),l===hn||(l=dn(a)),c()):a.slice()},h.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},h.rangeRound=function(e){return s=Array.from(e),u=un,c()},h.clamp=function(e){return arguments.length?(l=e?dn(a):hn,h):l!==hn},h.interpolate=function(e){return arguments.length?(u=e,c()):u},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,r){return e=n,t=r,c()}}()(e,t)}function vn(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function yn(e){return(e=vn(Math.abs(e)))?e[1]:NaN}var wn,$n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bn(e){return new _n(e)}function _n(e){if(!(t=$n.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}function xn(e,t){var n=vn(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}bn.prototype=_n.prototype,_n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Mn={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return xn(100*e,t)},r:xn,s:function(e,t){var n=vn(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(wn=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+vn(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function Pn(e){return e}var Cn,Nn,kn,Tn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Un(e){var t,n,r=e.grouping&&e.thousands?(t=e.grouping,n=e.thousands,function(e,r){for(var i=e.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}):Pn,i=e.currency,o=e.decimal,a=e.numerals?function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(e.numerals):Pn,s=e.percent||"%";function u(e){var t=(e=bn(e)).fill,n=e.align,u=e.sign,l=e.symbol,c=e.zero,h=e.width,f=e.comma,d=e.precision,g=e.trim,p=e.type;"n"===p?(f=!0,p="g"):Mn[p]||(null==d&&(d=12),g=!0,p="g"),(c||"0"===t&&"="===n)&&(c=!0,t="0",n="=");var m="$"===l?i[0]:"#"===l&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",v="$"===l?i[1]:/[%p]/.test(p)?s:"",y=Mn[p],w=/[defgprs%]/.test(p);function $(e){var i,s,l,$=m,b=v;if("c"===p)b=y(e)+b,e="";else{var _=(e=+e)<0;if(e=y(Math.abs(e),d),g&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(i>0){if(!+e[r])break e;i=0}}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),_&&0==+e&&(_=!1),$=(_?"("===u?u:"-":"-"===u||"("===u?"":u)+$,b=("s"===p?Tn[8+wn/3]:"")+b+(_&&"("===u?")":""),w)for(i=-1,s=e.length;++i<s;)if(48>(l=e.charCodeAt(i))||l>57){b=(46===l?o+e.slice(i+1):e.slice(i))+b,e=e.slice(0,i);break}}f&&!c&&(e=r(e,1/0));var x=$.length+e.length+b.length,M=x<h?new Array(h-x+1).join(t):"";switch(f&&c&&(e=r(M+e,M.length?h-b.length:1/0),M=""),n){case"<":e=$+e+b+M;break;case"=":e=$+M+e+b;break;case"^":e=M.slice(0,x=M.length>>1)+$+e+b+M.slice(x);break;default:e=M+$+e+b}return a(e)}return d=null==d?6:/[gprs]/.test(p)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),$.toString=function(){return e+""},$}return{format:u,formatPrefix:function(e,t){var n=u(((e=bn(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(yn(t)/3))),i=Math.pow(10,-r),o=Tn[8+r/3];return function(e){return n(i*e)+o}}}}function Sn(e,t,n,r){var i,o=function(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=be?i*=10:o>=_e?i*=5:o>=xe&&(i*=2),t<e?-i:i}(e,t,n);switch((r=bn(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(yn(t)/3)))-yn(Math.abs(e)))}(o,a))||(r.precision=i),kn(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,yn(t)-yn(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-yn(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return Nn(r)}function In(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=Me(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;return r&&o.reverse(),o}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Sn(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),o=0,a=i.length-1,s=i[o],u=i[a];return u<s&&(r=s,s=u,u=r,r=o,o=a,a=r),(r=Me(s,u,n))>0?r=Me(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=Me(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,t(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,t(i)),e},e}Cn=Un({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),Nn=Cn.format,kn=Cn.formatPrefix;var An=new Date,qn=new Date;function Dn(e,t,n,r){function i(t){return e(t=new Date(+t)),t}return i.floor=i,i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return Dn(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(i.count=function(t,r){return An.setTime(+t),qn.setTime(+r),e(An),e(qn),Math.floor(n(An,qn))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e==0}:function(t){return i.count(0,t)%e==0}):i:null}),i}var Hn=Dn(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});Hn.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Dn(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):Hn:null};var Wn=6e4,En=6048e5,Ln=(Dn(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),Dn(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},function(e,t){e.setTime(+e+t*Wn)},function(e,t){return(t-e)/Wn},function(e){return e.getMinutes()}),Dn(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-e.getMinutes()*Wn)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),Dn(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Wn)/864e5},function(e){return e.getDate()-1}));function jn(e){return Dn(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Wn)/En})}var Fn=jn(0),On=jn(1),Yn=(jn(2),jn(3),jn(4)),zn=(jn(5),jn(6),Dn(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),Dn(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()}));zn.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Dn(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};Dn(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*Wn)},function(e,t){return(t-e)/Wn},function(e){return e.getUTCMinutes()}),Dn(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()});var Vn=Dn(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1});function Rn(e){return Dn(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/En})}var Qn=Rn(0),Zn=Rn(1),Bn=(Rn(2),Rn(3),Rn(4)),Xn=(Rn(5),Rn(6),Dn(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),Dn(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()}));function Jn(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gn(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Kn(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}Xn.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Dn(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var er,tr,nr,rr={"-":"",_:" ",0:"0"},ir=/^\s*\d+/,or=/^%/,ar=/[\\^$*+?|[\]().{}]/g;function sr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function ur(e){return e.replace(ar,"\\$&")}function lr(e){return new RegExp("^(?:"+e.map(ur).join("|")+")","i")}function cr(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function hr(e,t,n){var r=ir.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function fr(e,t,n){var r=ir.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function dr(e,t,n){var r=ir.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function gr(e,t,n){var r=ir.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function pr(e,t,n){var r=ir.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function mr(e,t,n){var r=ir.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function vr(e,t,n){var r=ir.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function yr(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function wr(e,t,n){var r=ir.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function $r(e,t,n){var r=ir.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function br(e,t,n){var r=ir.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function _r(e,t,n){var r=ir.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function xr(e,t,n){var r=ir.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Mr(e,t,n){var r=ir.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Pr(e,t,n){var r=ir.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Cr(e,t,n){var r=ir.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Nr(e,t,n){var r=or.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function kr(e,t,n){var r=ir.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Tr(e,t,n){var r=ir.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1}function Ur(e,t){return sr(e.getDate(),t,2)}function Sr(e,t){return sr(e.getHours(),t,2)}function Ir(e,t){return sr(e.getHours()%12||12,t,2)}function Ar(e,t){return sr(1+Ln.count(zn(e),e),t,3)}function qr(e,t){return sr(e.getMilliseconds(),t,3)}function Dr(e,t){return qr(e,t)+"000"}function Hr(e,t){return sr(e.getMonth()+1,t,2)}function Wr(e,t){return sr(e.getMinutes(),t,2)}function Er(e,t){return sr(e.getSeconds(),t,2)}function Lr(e){var t=e.getDay();return 0===t?7:t}function jr(e,t){return sr(Fn.count(zn(e),e),t,2)}function Fr(e,t){var n=e.getDay();return e=n>=4||0===n?Yn(e):Yn.ceil(e),sr(Yn.count(zn(e),e)+(4===zn(e).getDay()),t,2)}function Or(e){return e.getDay()}function Yr(e,t){return sr(On.count(zn(e),e),t,2)}function zr(e,t){return sr(e.getFullYear()%100,t,2)}function Vr(e,t){return sr(e.getFullYear()%1e4,t,4)}function Rr(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+sr(t/60|0,"0",2)+sr(t%60,"0",2)}function Qr(e,t){return sr(e.getUTCDate(),t,2)}function Zr(e,t){return sr(e.getUTCHours(),t,2)}function Br(e,t){return sr(e.getUTCHours()%12||12,t,2)}function Xr(e,t){return sr(1+Vn.count(Xn(e),e),t,3)}function Jr(e,t){return sr(e.getUTCMilliseconds(),t,3)}function Gr(e,t){return Jr(e,t)+"000"}function Kr(e,t){return sr(e.getUTCMonth()+1,t,2)}function ei(e,t){return sr(e.getUTCMinutes(),t,2)}function ti(e,t){return sr(e.getUTCSeconds(),t,2)}function ni(e){var t=e.getUTCDay();return 0===t?7:t}function ri(e,t){return sr(Qn.count(Xn(e),e),t,2)}function ii(e,t){var n=e.getUTCDay();return e=n>=4||0===n?Bn(e):Bn.ceil(e),sr(Bn.count(Xn(e),e)+(4===Xn(e).getUTCDay()),t,2)}function oi(e){return e.getUTCDay()}function ai(e,t){return sr(Zn.count(Xn(e),e),t,2)}function si(e,t){return sr(e.getUTCFullYear()%100,t,2)}function ui(e,t){return sr(e.getUTCFullYear()%1e4,t,4)}function li(){return"+0000"}function ci(){return"%"}function hi(e){return+e}function fi(e){return Math.floor(+e/1e3)}!function(e){er=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,u=e.shortMonths,l=lr(i),c=cr(i),h=lr(o),f=cr(o),d=lr(a),g=cr(a),p=lr(s),m=cr(s),v=lr(u),y=cr(u),w={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Ur,e:Ur,f:Dr,H:Sr,I:Ir,j:Ar,L:qr,m:Hr,M:Wr,p:function(e){return i[+(e.getHours()>=12)]},Q:hi,s:fi,S:Er,u:Lr,U:jr,V:Fr,w:Or,W:Yr,x:null,X:null,y:zr,Y:Vr,Z:Rr,"%":ci},$={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Qr,e:Qr,f:Gr,H:Zr,I:Br,j:Xr,L:Jr,m:Kr,M:ei,p:function(e){return i[+(e.getUTCHours()>=12)]},Q:hi,s:fi,S:ti,u:ni,U:ri,V:ii,w:oi,W:ai,x:null,X:null,y:si,Y:ui,Z:li,"%":ci},b={a:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=g[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return M(e,t,n,r)},d:$r,e:$r,f:Cr,H:_r,I:_r,j:br,L:Pr,m:wr,M:xr,p:function(e,t,n){var r=l.exec(t.slice(n));return r?(e.p=c[r[0].toLowerCase()],n+r[0].length):-1},Q:kr,s:Tr,S:Mr,u:fr,U:dr,V:gr,w:hr,W:pr,x:function(e,t,r){return M(e,n,t,r)},X:function(e,t,n){return M(e,r,t,n)},y:vr,Y:mr,Z:yr,"%":Nr};function _(e,t){return function(n){var r,i,o,a=[],s=-1,u=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(i=rr[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(e.slice(u,s)),a.join("")}}function x(e,t){return function(n){var r,i,o=Kn(1900);if(M(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Gn(Kn(o.y))).getUTCDay(),r=i>4||0===i?Zn.ceil(r):Zn(r),r=Vn.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=t(Kn(o.y))).getDay(),r=i>4||0===i?On.ceil(r):On(r),r=Ln.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Gn(Kn(o.y)).getUTCDay():t(Kn(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Gn(o)):t(o)}}function M(e,t,n,r){for(var i,o,a=0,s=t.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=b[i in rr?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return w.x=_(n,w),w.X=_(r,w),w.c=_(t,w),$.x=_(n,$),$.X=_(r,$),$.c=_(t,$),{format:function(e){var t=_(e+="",w);return t.toString=function(){return e},t},parse:function(e){var t=x(e+="",Jn);return t.toString=function(){return e},t},utcFormat:function(e){var t=_(e+="",$);return t.toString=function(){return e},t},utcParse:function(e){var t=x(e,Gn);return t.toString=function(){return e},t}}}(e),er.format,er.parse,tr=er.utcFormat,nr=er.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||tr("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||nr("%Y-%m-%dT%H:%M:%S.%LZ");var di=Math.PI,gi=2*di,pi=gi-1e-6;function mi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function vi(){return new mi}function yi(e){return function(){return e}}mi.prototype=vi.prototype={constructor:mi,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,u=r-t,l=o-e,c=a-t,h=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>1e-6)if(Math.abs(c*s-u*l)>1e-6&&i){var f=n-o,d=r-a,g=s*s+u*u,p=f*f+d*d,m=Math.sqrt(g),v=Math.sqrt(h),y=i*Math.tan((di-Math.acos((g+h-p)/(2*m*v)))/2),w=y/v,$=y/m;Math.abs(w-1)>1e-6&&(this._+="L"+(e+w*l)+","+(t+w*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>l*d)+","+(this._x1=e+$*s)+","+(this._y1=t+$*u)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,o){e=+e,t=+t;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=e+a,l=t+s,c=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+u+","+l),n&&(h<0&&(h=h%gi+gi),h>pi?this._+="A"+n+","+n+",0,1,"+c+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=di)+","+c+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};Math.PI;function wi(e){this._context=e}function $i(e){return new wi(e)}function bi(e){return e[0]}function _i(e){return e[1]}function xi(){var e=bi,t=_i,n=yi(!0),r=null,i=$i,o=null;function a(a){var s,u,l,c=a.length,h=!1;for(null==r&&(o=i(l=vi())),s=0;s<=c;++s)!(s<c&&n(u=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(u,s,a),+t(u,s,a));if(l)return o=null,l+""||null}return a.x=function(t){return arguments.length?(e="function"==typeof t?t:yi(+t),a):e},a.y=function(e){return arguments.length?(t="function"==typeof e?e:yi(+e),a):t},a.defined=function(e){return arguments.length?(n="function"==typeof e?e:yi(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a}function Mi(e){return e<0?-1:1}function Pi(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Mi(o)+Mi(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Ci(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ni(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function ki(e){this._context=e}function Ti(e){this._context=new Ui(e)}function Ui(e){this._context=e}function Si(e){return new Ti(e)}if(wi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},ki.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ni(this,this._t0,Ci(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ni(this,Ci(this,n=Pi(this,e,t)),n);break;default:Ni(this,this._t0,n=Pi(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Ti.prototype=Object.create(ki.prototype)).point=function(e,t){ki.prototype.point.call(this,t,e)},Ui.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},"undefined"!=typeof document)document.documentElement;function Ii(e,t,n){const r=Object.create(e);return r.party=t[n],r.i=n,r}function Ai(e,t,n){const r=Object.create(e);return r.opinion=t[n],r}function qi(e,t,n){const r=Object.create(e);return r.party=t[n],r}function Di(e,t,n){const r=Object.create(e);return r.party=t[n],r}function Hi(e,t,n){const r=Object.create(e);return r.opinion=t[n],r}function Wi(e){var t,n,r,i;function a(){return e.click_handler(e)}function s(){return e.mouseover_handler(e)}return{c(){x(t=y("rect"),"x",n=e.xc(e.opinion.answer.simplifiedValue)),x(t,"y",r=e.y(e.opinion.question.id)),x(t,"width",e.answerWidth),x(t,"height",Vi),x(t,"class","answer svelte-171eem"),P(t,"fill",e.hover&&e.hover.question.id===e.opinion.question.id&&e.hover.answer.simplifiedValue===e.opinion.answer.simplifiedValue?yt(e.includesSelectedPartyIds(e.opinion)?e.opinion.answer.colorLight:"#eee").darker(.5).rgb():yt(e.includesSelectedPartyIds(e.opinion)?e.opinion.answer.colorLight:"#eee")),i=[_(t,"click",a),_(t,"mouseover",s),_(t,"mouseout",e.mouseout_handler)]},m(e,n){g(e,t,n)},p(i,o){e=o,(i.xc||i.$opinions)&&n!==(n=e.xc(e.opinion.answer.simplifiedValue))&&x(t,"x",n),(i.y||i.$opinions)&&r!==(r=e.y(e.opinion.question.id))&&x(t,"y",r),i.answerWidth&&x(t,"width",e.answerWidth),(i.hover||i.$opinions||i.color||i.includesSelectedPartyIds)&&P(t,"fill",e.hover&&e.hover.question.id===e.opinion.question.id&&e.hover.answer.simplifiedValue===e.opinion.answer.simplifiedValue?yt(e.includesSelectedPartyIds(e.opinion)?e.opinion.answer.colorLight:"#eee").darker(.5).rgb():yt(e.includesSelectedPartyIds(e.opinion)?e.opinion.answer.colorLight:"#eee"))},d(e){e&&p(t),o(i)}}}function Ei(e){var t,n,r;return{c(){x(t=y("path"),"transform",n="translate("+e.barWidth/2+", "+Vi+")"),x(t,"d",r=e.getPath(e.party.id,e.filterOpinionsByParty(e.party).reduce(Ri,[]))),P(t,"fill","none"),P(t,"stroke","rgba(0, 0, 0, 0.2)"),P(t,"stroke-dasharray","2 2"),x(t,"class","svelte-171eem")},m(e,n){g(e,t,n)},p(e,i){e.barWidth&&n!==(n="translate("+i.barWidth/2+", "+Vi+")")&&x(t,"transform",n),(e.getPath||e.nonSelectedPartiePaths)&&r!==(r=i.getPath(i.party.id,i.filterOpinionsByParty(i.party).reduce(Ri,[])))&&x(t,"d",r)},d(e){e&&p(t)}}}function Li(e){var t,n,r;return{c(){x(t=y("path"),"transform",n="translate("+e.barWidth/2+", "+Vi+")"),x(t,"d",r=e.getPath(e.party.id,e.filterOpinionsByParty(e.party).reduce(Qi,[]))),P(t,"fill","none"),P(t,"stroke","#000"),P(t,"stroke-dasharray","none"),x(t,"class","svelte-171eem")},m(e,n){g(e,t,n)},p(e,i){e.barWidth&&n!==(n="translate("+i.barWidth/2+", "+Vi+")")&&x(t,"transform",n),(e.getPath||e.selectedPartiePaths)&&r!==(r=i.getPath(i.party.id,i.filterOpinionsByParty(i.party).reduce(Qi,[])))&&x(t,"d",r)},d(e){e&&p(t)}}}function ji(e){var t,n,r;function i(){return e.click_handler_1(e)}function a(...t){return e.mouseover_handler_1(e,...t)}return{c(){x(t=y("rect"),"x",n=e.xOffset(e.opinion)+e.i*e.barWidth),x(t,"y",Vi/4),x(t,"width",e.barWidth),x(t,"height",Vi/2),P(t,"fill",e.$selectedPartyIds.includes(e.party.id)?e.opinion.answer.color:e.opinion.answer.colorLight),P(t,"stroke",e.containerWidth<368?(e.$selectedPartyIds.includes(e.party.id),e.opinion.answer.color):"black"),x(t,"class","party-answer svelte-171eem"),r=[_(t,"click",i),_(t,"mousemove",e.mousemove_handler),_(t,"mouseover",a),_(t,"mouseout",e.mouseout_handler_1)]},m(e,n){g(e,t,n)},p(r,i){e=i,(r.xOffset||r.$opinions||r.barWidth)&&n!==(n=e.xOffset(e.opinion)+e.i*e.barWidth)&&x(t,"x",n),r.barWidth&&x(t,"width",e.barWidth),(r.$selectedPartyIds||r.$opinions)&&P(t,"fill",e.$selectedPartyIds.includes(e.party.id)?e.opinion.answer.color:e.opinion.answer.colorLight),(r.containerWidth||r.$selectedPartyIds||r.$opinions)&&P(t,"stroke",e.containerWidth<368?(e.$selectedPartyIds.includes(e.party.id),e.opinion.answer.color):"black")},d(e){e&&p(t),o(r)}}}function Fi(e){for(var t,n,r=e.opinion.parties,i=[],o=0;o<r.length;o+=1)i[o]=ji(Ii(e,r,o));return{c(){t=y("g");for(var r=0;r<i.length;r+=1)i[r].c();x(t,"transform",n="translate("+e.xc(e.opinion.answer.simplifiedValue)+", "+e.y(e.opinion.question.id)+")")},m(e,n){g(e,t,n);for(var r=0;r<i.length;r+=1)i[r].m(t,null)},p(e,o){if(e.xOffset||e.$opinions||e.barWidth||e.rowHeight||e.$selectedPartyIds||e.containerWidth){r=o.opinion.parties;for(var a=0;a<r.length;a+=1){const n=Ii(o,r,a);i[a]?i[a].p(e,n):(i[a]=ji(n),i[a].c(),i[a].m(t,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}(e.xc||e.$opinions||e.y)&&n!==(n="translate("+o.xc(o.opinion.answer.simplifiedValue)+", "+o.y(o.opinion.question.id)+")")&&x(t,"transform",n)},d(e){e&&p(t),m(i,e)}}}function Oi(e){var t,n,r=e.hoverParty&&Yi(e);return{c(){t=v("div"),r&&r.c(),j(()=>e.div_resize_handler.call(t)),t.className="popup svelte-171eem",P(t,"display",e.hoverParty?"block":"none"),P(t,"left",e.popupLeft()+"px"),P(t,"top",e.mousePos[1]),P(t,"margin-top",e.popupMarginTop()+"px")},m(i,o){g(i,t,o),r&&r.m(t,null),n=function(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=document.createElement("object");let r;return n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),n.type="text/html",n.onload=(()=>{(r=n.contentDocument.defaultView).addEventListener("resize",t)}),/Trident/.test(navigator.userAgent)?(e.appendChild(n),n.data="about:blank"):(n.data="about:blank",e.appendChild(n)),{cancel:()=>{r&&r.removeEventListener&&r.removeEventListener("resize",t),e.removeChild(n)}}}(t,e.div_resize_handler.bind(t))},p(e,n){n.hoverParty?r?r.p(e,n):((r=Yi(n)).c(),r.m(t,null)):r&&(r.d(1),r=null),e.hoverParty&&P(t,"display",n.hoverParty?"block":"none"),e.popupLeft&&P(t,"left",n.popupLeft()+"px"),e.mousePos&&P(t,"top",n.mousePos[1]),e.popupMarginTop&&P(t,"margin-top",n.popupMarginTop()+"px")},d(e){e&&p(t),r&&r.d(),n.cancel()}}}function Yi(e){var t,n,r,i,o,a,s,u,l,c,h,f,m,y,b,_,x,C,N,k,T=e.hoverParty.party.name_short,U=e.hoverParty.party.name_full,S=e.hoverParty.answer.label,I=e.hoverParty.parties.find(e.func_2).motivation.text,A=e.hoverParty.parties.find(e.func_3).motivation.source;return{c(){t=v("h2"),n=w(T),r=$(),i=v("h4"),o=w(U),a=$(),s=v("h4"),u=w(S),l=$(),c=v("p"),(h=v("em")).textContent="Motivation:",f=$(),m=w(I),y=$(),b=v("p"),(_=v("em")).textContent="source:",x=$(),C=v("a"),N=w(A),t.className="svelte-171eem",i.className="svelte-171eem",P(s,"color",e.hoverParty.answer.color),s.className="svelte-171eem",C.href=k=e.hoverParty.parties.find(e.func_4).motivation.link},m(e,p){g(e,t,p),d(t,n),g(e,r,p),g(e,i,p),d(i,o),g(e,a,p),g(e,s,p),d(s,u),g(e,l,p),g(e,c,p),d(c,h),d(c,f),d(c,m),g(e,y,p),g(e,b,p),d(b,_),d(b,x),d(b,C),d(C,N)},p(e,t){e.hoverParty&&T!==(T=t.hoverParty.party.name_short)&&M(n,T),e.hoverParty&&U!==(U=t.hoverParty.party.name_full)&&M(o,U),e.hoverParty&&S!==(S=t.hoverParty.answer.label)&&M(u,S),e.hoverParty&&P(s,"color",t.hoverParty.answer.color),e.hoverParty&&I!==(I=t.hoverParty.parties.find(t.func_2).motivation.text)&&M(m,I),e.hoverParty&&A!==(A=t.hoverParty.parties.find(t.func_3).motivation.source)&&M(N,A),e.hoverParty&&k!==(k=t.hoverParty.parties.find(t.func_4).motivation.link)&&(C.href=k)},d(e){e&&(p(t),p(r),p(i),p(a),p(s),p(l),p(c),p(y),p(b))}}}function zi(t){var n,r,i,o,a,s,u,l,c;j(t.onwindowresize);for(var h=t.$opinions,f=[],w=0;w<h.length;w+=1)f[w]=Wi(Hi(t,h,w));var M=t.nonSelectedPartiePaths,P=[];for(w=0;w<M.length;w+=1)P[w]=Ei(Di(t,M,w));var C=t.selectedPartiePaths,N=[];for(w=0;w<C.length;w+=1)N[w]=Li(qi(t,C,w));var k=t.$opinions,T=[];for(w=0;w<k.length;w+=1)T[w]=Fi(Ai(t,k,w));var U=t.mousePos&&Oi(t);return{c(){n=v("div"),r=y("svg"),i=y("g");for(var e=0;e<f.length;e+=1)f[e].c();o=b();for(e=0;e<P.length;e+=1)P[e].c();a=b();for(e=0;e<N.length;e+=1)N[e].c();s=b();for(e=0;e<T.length;e+=1)T[e].c();l=$(),U&&U.c(),x(r,"width",u=t.Math.min(t.containerWidth,540)),x(r,"height",44*Vi+22),c=_(window,"resize",t.onwindowresize)},m(e,t){g(e,n,t),d(n,r),d(r,i);for(var u=0;u<f.length;u+=1)f[u].m(i,null);d(i,o);for(u=0;u<P.length;u+=1)P[u].m(i,null);d(i,a);for(u=0;u<N.length;u+=1)N[u].m(i,null);d(i,s);for(u=0;u<T.length;u+=1)T[u].m(i,null);d(n,l),U&&U.m(n,null)},p(e,t){if(e.xc||e.$opinions||e.y||e.answerWidth||e.rowHeight||e.hover||e.color||e.includesSelectedPartyIds){h=t.$opinions;for(var l=0;l<h.length;l+=1){const n=Hi(t,h,l);f[l]?f[l].p(e,n):(f[l]=Wi(n),f[l].c(),f[l].m(i,o))}for(;l<f.length;l+=1)f[l].d(1);f.length=h.length}if(e.barWidth||e.rowHeight||e.getPath||e.nonSelectedPartiePaths||e.filterOpinionsByParty){M=t.nonSelectedPartiePaths;for(l=0;l<M.length;l+=1){const n=Di(t,M,l);P[l]?P[l].p(e,n):(P[l]=Ei(n),P[l].c(),P[l].m(i,a))}for(;l<P.length;l+=1)P[l].d(1);P.length=M.length}if(e.barWidth||e.rowHeight||e.getPath||e.selectedPartiePaths||e.filterOpinionsByParty){C=t.selectedPartiePaths;for(l=0;l<C.length;l+=1){const n=qi(t,C,l);N[l]?N[l].p(e,n):(N[l]=Li(n),N[l].c(),N[l].m(i,s))}for(;l<N.length;l+=1)N[l].d(1);N.length=C.length}if(e.xc||e.$opinions||e.y||e.xOffset||e.barWidth||e.rowHeight||e.$selectedPartyIds||e.containerWidth){k=t.$opinions;for(l=0;l<k.length;l+=1){const n=Ai(t,k,l);T[l]?T[l].p(e,n):(T[l]=Fi(n),T[l].c(),T[l].m(i,null))}for(;l<T.length;l+=1)T[l].d(1);T.length=k.length}e.containerWidth&&u!==(u=t.Math.min(t.containerWidth,540))&&x(r,"width",u),t.mousePos?U?U.p(e,t):((U=Oi(t)).c(),U.m(n,null)):U&&(U.d(1),U=null)},i:e,o:e,d(e){e&&p(n),m(f,e),m(P,e),m(N,e),m(T,e),U&&U.d(),c()}}}let Vi=60;function Ri(e,t){return e.concat([t,t,t])}function Qi(e,t){return e.concat([t,t,t])}function Zi(e,t,n){let r,i,o;u(e,Ae,e=>{n("$opinions",r=e)}),u(e,qe,e=>{n("$selectedPartyIds",i=e)}),u(e,He,e=>{n("$allParties",o=e)});let a,s,l,c,h,f,d,g,p,m,v,y,w,$,b=9,_=135,x=void 0,{containerHeight:M}=t;function P(e){const t=e.parties.map(e=>e.id);0===i.length?(i=t,qe.set(i)):i.every(e=>t.includes(e))?(i=i.filter(e=>!t.includes(e)),qe.set(i)):i.some(e=>t.includes(e))?(i=i.filter(e=>t.includes(e)),qe.set(i)):(i=t,qe.set(i))}function C(e,t){t.sourceCapabilities.firesTouchEvents||(n("hoverParty",a=e),n("hover",x={question:e.question,answer:e.answer}))}function N(){n("hoverParty",a=void 0),n("hover",x=void 0)}return I(()=>{c<768?(n("barWidth",b=(c-210)/4/15),n("answerWidth",_=(c-210)/4)):c<940?(n("barWidth",b=h/4/15),n("answerWidth",_=h/4)):(n("barWidth",b=9),n("answerWidth",_=135))}),e.$set=(e=>{"containerHeight"in e&&n("containerHeight",M=e.containerHeight)}),e.$$.update=((e={innerWidth:1,answerWidth:1,$opinions:1,rowHeight:1,barWidth:1,xc:1,xOffset:1,$selectedPartyIds:1,$allParties:1,mousePos:1,popupHeight:1})=>{e.innerWidth&&n("containerWidth",h=c?c<768?c-210:c-400:540),e.answerWidth&&n("xc",f=function e(){var t=new Map,n=[],r=[],i=nt;function o(e){var o=e+"",a=t.get(o);if(!a){if(i!==nt)return i;t.set(o,a=n.push(e))}return r[(a-1)%r.length]}return o.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new Map;for(const r of e){const e=r+"";t.has(e)||t.set(e,n.push(r))}return o},o.range=function(e){return arguments.length?(r=Array.from(e),o):r.slice()},o.unknown=function(e){return arguments.length?(i=e,o):i},o.copy=function(){return e(n,r).unknown(i)},tt.apply(o,arguments),o}().domain([100,50,0,null]).range(Array.from(Array(4).keys()).map(e=>e*_))),(e.$opinions||e.rowHeight)&&n("y",d=function e(){var t=mn(hn,hn);return t.copy=function(){return n=t,e().domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown());var n},tt.apply(t,arguments),In(t)}().domain(function(e,t){let n,r;if(void 0===t)for(let t of e)null!=t&&t>=t&&(void 0===n?n=r=t:(n>t&&(n=t),r<t&&(r=t)));else{let i=-1;for(let o of e)null!=(o=t(o,++i,e))&&o>=o&&(void 0===n?n=r=o:(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}(r.map(e=>e.question.id))).range([0,21*Vi*2])),(e.answerWidth||e.barWidth)&&n("xOffset",g=(e=>_/2-e.parties.length*b/2)),(e.xc||e.xOffset||e.barWidth||e.rowHeight)&&n("getPath",p=((e,t)=>xi().x((t,n)=>f(t.answer.simplifiedValue)+g(t)+t.parties.map(e=>e.id).indexOf(e)*b).y((e,t)=>-Vi/2+2*Math.floor(t/3)*Vi+(t%3==0?-Vi/4:t%3==2?Vi/4:0)).curve(Si)(t))),e.$selectedPartyIds&&n("includesSelectedPartyIds",m=(e=>i.length>0&&i.every(t=>e.parties.map(e=>e.id).includes(t)))),(e.$allParties||e.$selectedPartyIds)&&n("selectedPartiePaths",v=o.filter(e=>i.includes(e.id))),(e.$allParties||e.$selectedPartyIds)&&n("nonSelectedPartiePaths",y=o.filter(e=>!i.includes(e.id))),(e.mousePos||e.innerWidth)&&n("popupLeft",w=(()=>s?s[0]<c/2?s[0]+20:s[0]-20-40-400:0)),(e.mousePos||e.popupHeight)&&n("popupMarginTop",$=(()=>Math.min(0,innerHeight-(s?s[2]+l+20:0))))}),{barWidth:b,answerWidth:_,hoverParty:a,hover:x,mousePos:s,popupHeight:l,innerWidth:c,containerHeight:M,filterOpinionsByParty:function(e){return r.filter(t=>t.parties.map(e=>e.id).includes(e.id))},updateSelectedPartyIds:P,showPopup:C,hidePopup:N,undefined:void 0,containerWidth:h,xc:f,y:d,$opinions:r,xOffset:g,getPath:p,Math:Math,$selectedPartyIds:i,includesSelectedPartyIds:m,selectedPartiePaths:v,nonSelectedPartiePaths:y,popupLeft:w,popupMarginTop:$,onwindowresize:function(){c=window.innerWidth,n("innerWidth",c)},click_handler:function({opinion:e}){return P(e)},mouseover_handler:function({opinion:e}){n("hover",x=e)},mouseout_handler:function(){n("hover",x=void 0)},click_handler_1:function({opinion:e}){return P(e)},mousemove_handler:function(e){const t=s=[e.clientX,e.offsetY,e.clientY];return n("mousePos",s),t},mouseover_handler_1:function({party:e,opinion:t},n){return C({party:e,...t},n)},mouseout_handler_1:function(){return N()},func_2:function(e){return e.id===a.party.id},func_3:function(e){return e.id===a.party.id},func_4:function(e){return e.id===a.party.id},div_resize_handler:function(){l=this.clientHeight,n("popupHeight",l)}}}class Bi extends ee{constructor(e){super(),K(this,e,Zi,zi,s,["containerHeight"])}}function Xi(t){var n,r,i,o=t.question.text;return{c(){n=v("p"),r=v("span"),i=w(o),P(r,"padding","0 0 0 4px"),P(r,"background-color",t.marked()||0===t.$selectedPartyIds.length?"transparent":"hsla(46, 92%, 75%, 1)"),P(n,"color",t.marked()?t.answerValuesRemaining()[0].answer.color:"black"),n.className="svelte-1vpemqi"},m(e,t){g(e,n,t),d(n,r),d(r,i)},p(e,t){e.question&&o!==(o=t.question.text)&&M(i,o),(e.marked||e.$selectedPartyIds)&&P(r,"background-color",t.marked()||0===t.$selectedPartyIds.length?"transparent":"hsla(46, 92%, 75%, 1)"),(e.marked||e.answerValuesRemaining)&&P(n,"color",t.marked()?t.answerValuesRemaining()[0].answer.color:"black")},i:e,o:e,d(e){e&&p(n)}}}function Ji(e,t,n){let r,i;u(e,Ae,e=>{n("$opinions",r=e)}),u(e,qe,e=>{n("$selectedPartyIds",i=e)});let o,a,{question:s}=t;return e.$set=(e=>{"question"in e&&n("question",s=e.question)}),e.$$.update=((e={$opinions:1,question:1,$selectedPartyIds:1,answerValuesRemaining:1})=>{(e.$opinions||e.question||e.$selectedPartyIds)&&n("answerValuesRemaining",o=(()=>r.filter(e=>e.question.id===s.id).filter(e=>e.parties.map(e=>e.id).filter(e=>i.includes(e)).length>0))),e.answerValuesRemaining&&n("marked",a=(()=>1===o().length))}),{question:s,answerValuesRemaining:o,$selectedPartyIds:i,marked:a}}class Gi extends ee{constructor(e){super(),K(this,e,Ji,Xi,s,["question"])}}function Ki(e){var t,n;function r(e){return e.$selectedPartyIds.length>1?to:eo}var i=r(e),o=i(e);return{c(){t=v("div"),o.c(),t.className=n="container "+(1===e.$selectedPartyIds.length?"single-match":"multi-match")+" svelte-149n1gt"},m(e,n){g(e,t,n),o.m(t,null)},p(e,a){i===(i=r(a))&&o?o.p(e,a):(o.d(1),(o=i(a))&&(o.c(),o.m(t,null))),e.$selectedPartyIds&&n!==(n="container "+(1===a.$selectedPartyIds.length?"single-match":"multi-match")+" svelte-149n1gt")&&(t.className=n)},d(e){e&&p(t),o.d()}}}function eo(e){var t,n,r,i,o,a,s,u,l=e.$filteredParties[0].name_short,c=e.$filteredParties[0].name_full.replace(/(.*)\(.*\)/gi,"$1");return{c(){(t=v("span")).textContent="matching party:",n=$(),r=v("div"),i=v("h3"),o=w(l),a=$(),s=v("p"),u=w(c),t.className="label grid-item svelte-149n1gt",i.className="name-short svelte-149n1gt",s.className="name-short svelte-149n1gt",r.className="grid-item svelte-149n1gt"},m(e,l){g(e,t,l),g(e,n,l),g(e,r,l),d(r,i),d(i,o),d(r,a),d(r,s),d(s,u)},p(e,t){e.$filteredParties&&l!==(l=t.$filteredParties[0].name_short)&&M(o,l),e.$filteredParties&&c!==(c=t.$filteredParties[0].name_full.replace(/(.*)\(.*\)/gi,"$1"))&&M(u,c)},d(e){e&&(p(t),p(n),p(r))}}}function to(e){var t,n,r,i,o,a,s,u,l,c,h,f,m,y,b,_,x,P=e.$filteredParties.length;return{c(){t=v("div"),(n=v("div")).textContent="matching parties:",r=$(),i=v("span"),o=w(P),a=$(),s=v("div"),(u=v("div")).textContent="same opinion:",l=$(),c=v("span"),h=w(e.$overlap),f=$(),m=v("div"),(y=v("div")).innerHTML='<span class="marked svelte-149n1gt">mixed</span>\n\t\t\t          opinions:\n\t\t\t        ',b=$(),_=v("span"),x=w(e.$difference),n.className="label svelte-149n1gt",i.className="value svelte-149n1gt",t.className="grid-item svelte-149n1gt",u.className="label svelte-149n1gt",c.className="value svelte-149n1gt",s.className="grid-item svelte-149n1gt",y.className="label svelte-149n1gt",_.className="value svelte-149n1gt",m.className="grid-item svelte-149n1gt"},m(e,p){g(e,t,p),d(t,n),d(t,r),d(t,i),d(i,o),g(e,a,p),g(e,s,p),d(s,u),d(s,l),d(s,c),d(c,h),g(e,f,p),g(e,m,p),d(m,y),d(m,b),d(m,_),d(_,x)},p(e,t){e.$filteredParties&&P!==(P=t.$filteredParties.length)&&M(o,P),e.$overlap&&M(h,t.$overlap),e.$difference&&M(x,t.$difference)},d(e){e&&(p(t),p(a),p(s),p(f),p(m))}}}function no(t){var n,r=t.$selectedPartyIds.length>0&&Ki(t);return{c(){r&&r.c(),n=b()},m(e,t){r&&r.m(e,t),g(e,n,t)},p(e,t){t.$selectedPartyIds.length>0?r?r.p(e,t):((r=Ki(t)).c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&p(n)}}}function ro(e,t,n){let r,i,o,a;return u(e,qe,e=>{n("$selectedPartyIds",r=e)}),u(e,Ee,e=>{n("$filteredParties",i=e)}),u(e,Le,e=>{n("$overlap",o=e)}),u(e,je,e=>{n("$difference",a=e)}),{$selectedPartyIds:r,$filteredParties:i,$overlap:o,$difference:a}}class io extends ee{constructor(e){super(),K(this,e,ro,no,s,[])}}function oo(e,t,n){const r=Object.create(e);return r.party=t[n],r}function ao(e,t,n){const r=Object.create(e);return r.question=t[n],r}function so(e){var t,n=new Gi({props:{question:e.question}});return{c(){n.$$.fragment.c()},m(e,r){J(n,e,r),t=!0},p(e,t){var r={};e.$activeQuestions&&(r.question=t.question),n.$set(r)},i(e){t||(n.$$.fragment.i(e),t=!0)},o(e){n.$$.fragment.o(e),t=!1},d(e){n.$destroy(e)}}}function uo(e){for(var t,n,r,i,o,a,s,u,l,c,h,f,y,b,_=0===e.$difference?"y":"ies",x=e.$selectedPartyIds.length>1&&lo(e),C=e.$selectedPartyIds.length>1&&co(e),N=e.$filteredParties,k=[],T=0;T<N.length;T+=1)k[T]=ho(oo(e,N,T));return{c(){t=v("div"),n=v("h2"),r=w("Matching part"),i=w(_),o=$(),x&&x.c(),a=$(),s=v("div"),C&&C.c(),u=$(),l=v("div");for(var d=0;d<k.length;d+=1)k[d].c();c=$(),h=v("div"),f=w("dont't forget to scroll"),n.className="svelte-dyw359",l.className="party-list svelte-dyw359",P(l,"max-height",e.innerHeight-460+"px"),s.className="matching-parties svelte-dyw359",P(s,"background-color",1===e.$selectedPartyIds.length?"rgb(179, 219, 186)":"#eee"),h.className="scroll-hint svelte-dyw359",P(h,"display",e.isScrolling?"block":"none"),t.className="inner svelte-dyw359"},m(p,m){g(p,t,m),d(t,n),d(n,r),d(n,i),d(t,o),x&&x.m(t,null),d(t,a),d(t,s),C&&C.m(s,null),d(s,u),d(s,l);for(var v=0;v<k.length;v+=1)k[v].m(l,null);L(()=>e.div0_binding(l,null)),d(t,c),d(t,h),d(h,f),b=!0},p(e,n){if(b&&!e.$difference||_===(_=0===n.$difference?"y":"ies")||M(i,_),n.$selectedPartyIds.length>1?x?x.p(e,n):((x=lo(n)).c(),x.m(t,a)):x&&(x.d(1),x=null),n.$selectedPartyIds.length>1?C?C.p(e,n):((C=co(n)).c(),C.m(s,u)):C&&(C.d(1),C=null),e.selectedPartyIds||e.$filteredParties){N=n.$filteredParties;for(var r=0;r<N.length;r+=1){const t=oo(n,N,r);k[r]?k[r].p(e,t):(k[r]=ho(t),k[r].c(),k[r].m(l,null))}for(;r<k.length;r+=1)k[r].d(1);k.length=N.length}e.items&&(n.div0_binding(null,l),n.div0_binding(l,null)),b&&!e.innerHeight||P(l,"max-height",n.innerHeight-460+"px"),b&&!e.$selectedPartyIds||P(s,"background-color",1===n.$selectedPartyIds.length?"rgb(179, 219, 186)":"#eee"),b&&!e.isScrolling||P(h,"display",n.isScrolling?"block":"none")},i(e){b||(j(()=>{y||(y=B(t,et,{duration:200},!0)),y.run(1)}),b=!0)},o(e){y||(y=B(t,et,{duration:200},!1)),y.run(0),b=!1},d(n){n&&p(t),x&&x.d(),C&&C.d(),m(k,n),e.div0_binding(null,l),n&&y&&y.end()}}}function lo(e){var t,n,r,i,o,a,s,u,l,c,h,f,m,y,b,_,x,P,C,N,k,T,U,S,I,A=1===e.$overlap?"statement":"statements",q=e.$activeQuestions.length,D=`(${Math.round(e.$overlap/e.$activeQuestions.length*100)}%)`,H=1===Le?"statement":"statements",W=e.$activeQuestions.length,E=`(${Math.round(e.$difference/e.$activeQuestions.length*100)}%)`;return{c(){t=v("div"),n=v("div"),(r=v("span")).textContent="same opinion in:",i=$(),o=v("span"),a=w(e.$overlap),s=$(),u=w(A),l=w("\n              of\n              "),c=w(q),h=$(),f=w(D),m=$(),y=v("div"),b=v("div"),(_=v("span")).innerHTML='<span class="svelte-dyw359">mixed</span>\n\t\t\t                opinions in:\n\t\t\t              ',x=$(),P=v("span"),C=w(e.$difference),N=$(),k=w(H),T=w("\n              of\n              "),U=w(W),S=$(),I=w(E),r.className="label svelte-dyw359",o.className="value svelte-dyw359",t.className="overlap-diff overlap svelte-dyw359",_.className="label svelte-dyw359",P.className="value svelte-dyw359",y.className="overlap-diff diff svelte-dyw359"},m(e,p){g(e,t,p),d(t,n),d(n,r),d(n,i),d(n,o),d(o,a),d(n,s),d(n,u),d(n,l),d(n,c),d(n,h),d(n,f),g(e,m,p),g(e,y,p),d(y,b),d(b,_),d(b,x),d(b,P),d(P,C),d(b,N),d(b,k),d(b,T),d(b,U),d(b,S),d(b,I)},p(e,t){e.$overlap&&M(a,t.$overlap),e.$overlap&&A!==(A=1===t.$overlap?"statement":"statements")&&M(u,A),e.$activeQuestions&&q!==(q=t.$activeQuestions.length)&&M(c,q),(e.$overlap||e.$activeQuestions)&&D!==(D=`(${Math.round(t.$overlap/t.$activeQuestions.length*100)}%)`)&&M(f,D),e.$difference&&M(C,t.$difference),e.$activeQuestions&&W!==(W=t.$activeQuestions.length)&&M(U,W),(e.$difference||e.$activeQuestions)&&E!==(E=`(${Math.round(t.$difference/t.$activeQuestions.length*100)}%)`)&&M(I,E)},d(e){e&&(p(t),p(m),p(y))}}}function co(e){var t,n,r,i=e.$selectedPartyIds.length;return{c(){t=v("span"),n=w(i),r=w("\n              parties match your selection:"),t.className="label svelte-dyw359"},m(e,i){g(e,t,i),d(t,n),d(t,r)},p(e,t){e.$selectedPartyIds&&i!==(i=t.$selectedPartyIds.length)&&M(n,i)},d(e){e&&p(t)}}}function ho(e){var t,n,r,i,o,a,s=e.party.name_short,u=e.party.name_full.replace(/(.*)\(.*\)/gi,"$1");return{c(){t=v("div"),n=v("h3"),r=w(s),i=$(),o=v("p"),a=w(u),n.className="svelte-dyw359",o.className="svelte-dyw359",t.className="matching-party svelte-dyw359",P(t,"padding",qe.length>1?"0 0 10px 0":"10px 0")},m(e,s){g(e,t,s),d(t,n),d(n,r),d(t,i),d(t,o),d(o,a)},p(e,n){e.$filteredParties&&s!==(s=n.party.name_short)&&M(r,s),e.$filteredParties&&u!==(u=n.party.name_full.replace(/(.*)\(.*\)/gi,"$1"))&&M(a,u),e.selectedPartyIds&&P(t,"padding",qe.length>1?"0 0 10px 0":"10px 0")},d(e){e&&p(t)}}}function fo(e){var t,n,r,i,o,a,s,u;j(e.onwindowresize);for(var l=e.$activeQuestions,c=[],h=0;h<l.length;h+=1)c[h]=so(ao(e,l,h));function f(e,t,n){c[e]&&(t&&Z(()=>{c[e].d(t),c[e]=null}),c[e].o(n))}var y=new Bi({props:{containerHeight:e.innerHeight-150-100}}),w=e.$selectedPartyIds.length>0&&uo(e),b=new io({});return{c(){t=v("main"),n=v("div");for(var s=0;s<c.length;s+=1)c[s].c();r=$(),y.$$.fragment.c(),i=$(),o=v("aside"),w&&w.c(),a=$(),b.$$.fragment.c(),o.className="svelte-dyw359",t.className="svelte-dyw359",u=_(window,"resize",e.onwindowresize)},m(e,u){g(e,t,u),d(t,n);for(var l=0;l<c.length;l+=1)c[l].m(n,null);d(t,r),J(y,t,null),d(t,i),d(t,o),w&&w.m(o,null),g(e,a,u),J(b,e,u),s=!0},p(e,t){if(e.$activeQuestions){l=t.$activeQuestions;for(var r=0;r<l.length;r+=1){const i=ao(t,l,r);c[r]?(c[r].p(e,i),c[r].i(1)):(c[r]=so(i),c[r].c(),c[r].i(1),c[r].m(n,null))}for(R();r<c.length;r+=1)f(r,1,1);Q()}var i={};e.innerHeight&&(i.containerHeight=t.innerHeight-150-100),y.$set(i),t.$selectedPartyIds.length>0?w?(w.p(e,t),w.i(1)):((w=uo(t)).c(),w.i(1),w.m(o,null)):w&&(R(),Z(()=>{w.d(1),w=null}),w.o(1),Q())},i(e){if(!s){for(var t=0;t<l.length;t+=1)c[t].i();y.$$.fragment.i(e),w&&w.i(),b.$$.fragment.i(e),s=!0}},o(e){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)f(e,0);y.$$.fragment.o(e),w&&w.o(),b.$$.fragment.o(e),s=!1},d(e){e&&p(t),m(c,e),y.$destroy(),w&&w.d(),e&&p(a),b.$destroy(e),u()}}}function go(e,t,n){let r,i,o,a,s;u(e,We,e=>{n("$activeQuestions",r=e)}),u(e,qe,e=>{n("$selectedPartyIds",i=e)}),u(e,je,e=>{n("$difference",o=e)}),u(e,Le,e=>{n("$overlap",a=e)}),u(e,Ee,e=>{n("$filteredParties",s=e)});let l,c,h=0,f=0;return I(()=>{n("isScrolling",c=!!l&&l.scrollHeight>l.clientHeight)}),{innerWidth:h,innerHeight:f,partyList:l,isScrolling:c,$activeQuestions:r,$selectedPartyIds:i,$difference:o,$overlap:a,$filteredParties:s,onwindowresize:function(){h=window.innerWidth,n("innerWidth",h),f=window.innerHeight,n("innerHeight",f)},div0_binding:function(e,t){n("partyList",l=e)}}}class po extends ee{constructor(e){super(),K(this,e,go,fo,s,[])}}function mo(t){var n;return{c(){(n=v("footer")).innerHTML='<div class="inner svelte-14unenx"><p class="svelte-14unenx"><span class="smaller svelte-14unenx">concept &amp; design</span>\n\t\t\t      by\n\t\t\t      <a class="tulp-interactive svelte-14unenx" href="http://tulpinteractive.com" title="TULP interactive" target="_blank"><span>TULP</span> interactive\n\t\t\t      </a></p>\n\t\t\t    <a class="about svelte-14unenx" href="about.html" target="_blank" title="about 2019 vote EU">\n\t\t\t      about 2019 vote EU\n\t\t\t    </a></div>',n.className="svelte-14unenx"},m(e,t){g(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}class vo extends ee{constructor(e){super(),K(this,e,null,mo,s,[])}}function yo(t){var n,r,i=t.error.message;return{c(){n=v("p"),r=w(i),P(n,"color","red")},m(e,t){g(e,n,t),d(n,r)},p:e,i:e,o:e,d(e){e&&p(n)}}}function wo(t){var n,r,i=new po({}),o=new Ke({});return{c(){i.$$.fragment.c(),n=$(),o.$$.fragment.c()},m(e,t){J(i,e,t),g(e,n,t),J(o,e,t),r=!0},p:e,i(e){r||(i.$$.fragment.i(e),o.$$.fragment.i(e),r=!0)},o(e){i.$$.fragment.o(e),o.$$.fragment.o(e),r=!1},d(e){i.$destroy(e),e&&p(n),o.$destroy(e)}}}function $o(t){var n;return{c(){(n=v("p")).textContent="...loading data"},m(e,t){g(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function bo(e){var t,r,i,o;let a={ctx:e,current:null,pending:$o,then:wo,catch:yo,value:"null",error:"error",blocks:Array(3)};X(t=e.promise,a);var s=new Xe({}),u=new vo({});return{c(){a.block.c(),r=$(),s.$$.fragment.c(),i=$(),u.$$.fragment.c()},m(e,t){a.block.m(e,a.anchor=t),a.mount=(()=>r.parentNode),a.anchor=r,g(e,r,t),J(s,e,t),g(e,i,t),J(u,e,t),o=!0},p(r,i){e=i,a.ctx=e,t!==(t=e.promise)&&X(t,a)||a.block.p(r,n(n({},e),a.resolved))},i(e){o||(a.block.i(),s.$$.fragment.i(e),u.$$.fragment.i(e),o=!0)},o(e){for(let e=0;e<3;e+=1){const t=a.blocks[e];t&&t.o()}s.$$.fragment.o(e),u.$$.fragment.o(e),o=!1},d(e){a.block.d(e),a=null,e&&p(r),s.$destroy(e),e&&p(i),u.$destroy(e)}}}function _o(e){return{promise:Oe("AT")}}return new class extends ee{constructor(e){super(),K(this,e,_o,bo,s,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
